<!--
	Changes to DRL:

	infproduct -> family
	finalinfproduct -> document
	infelem -> part
	setvalue -> assign
	infelemref -> ref
	@title -> @id
	.. (множественные изменения в именах атрибутов)

	Теги подстановки в nest:
	insert-before, insert-after, replace, delete
$Id: drl-revised.xml 56 2007-02-07 00:42:10Z Jlexa $

-->

<root xmlns="http://docbook.org/ns/docbook"
	xmlns:d="http://math.spbu.ru/drl">

	<!-- These nodes are intended to be a top-level nodes in a separate files. -->

	<!-- this one goes from ToasterUserManual.drl file -->
	<d:document id="ToasterUserManual" family="UserManual">
		<d:assign variable="foo" value="foobar"/>
		<d:adapter ref="CopyrightRef">
			<d:replace nest="Year">
				2007
			</d:replace>
		</d:adapter>
		<d:adapter ref="AbstractRef">
			<d:insert-after nest="Default">
				Toaster abstract.
			</d:insert-after>
		</d:adapter>
	</d:document>

	<!-- this one goes from UserManual.drl file -->
	<d:family id="UserManual">
		<d:variable name="foo" default="bar"/>
		<book>
			<bookinfo>
				<title>User's Manual</title>
				<author>
					<firstname>Foo</firstname>
					<surname>Barovich</surname>
					<affiliation>
						<address><email>foo@example.com</email></address>
					</affiliation>
				</author>

				<d:ref part="Copyright" id="CopyrightRef"/>

				<d:ref part="Abstract" id="AbstractRef"/>
			</bookinfo>

			<preface>
				<title>Preface</title>
				<para>
					Thank you for buying a product from our great FooBar company.
					We promise you that you'll be satisfyed with the outstanding quality of this product.
				</para>
			</preface>

			<chapter>
				<title>Overview</title>
				<para>
					Foo = ?
					<d:if test="foo=bar">
						bar
					</d:if>
					<d:if test="foo=foobar">
						foobar
					</d:if>
				</para>
			</chapter>
		</book>
	</d:family>

	<!-- this one goes from Copyright.drl file -->
	<d:part id="Copyright">
		<copyright>
			<year><d:nest id="Year"/></year>
			<holder>FooBar company</holder>
		</copyright>
	</d:part>

	<!-- this one goes from Abstract.drl file -->
	<d:part id="Abstract">
		<abstract>
			<para>
				<d:nest id="Default">
					Some default abstract.
				</d:nest>
			</para>
		</abstract>
	</d:part>
</root>
